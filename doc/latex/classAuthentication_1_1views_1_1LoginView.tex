\hypertarget{classAuthentication_1_1views_1_1LoginView}{}\doxysection{Authentication.\+views.\+Login\+View Class Reference}
\label{classAuthentication_1_1views_1_1LoginView}\index{Authentication.views.LoginView@{Authentication.views.LoginView}}


This is the class controlling the /auth/login endpoint.  


Inheritance diagram for Authentication.\+views.\+Login\+View\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classAuthentication_1_1views_1_1LoginView}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{classAuthentication_1_1views_1_1LoginView_a3864557eb04db7e1a75bee8e61f1f61e}{post}} (self, request)
\begin{DoxyCompactList}\small\item\em This is the function for handling the POST request. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This is the class controlling the /auth/login endpoint. 

This viewset supports POST request to login a user~\newline
 ~\newline
 POST /auth/login Login a user 

Definition at line 71 of file views.\+py.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classAuthentication_1_1views_1_1LoginView_a3864557eb04db7e1a75bee8e61f1f61e}\label{classAuthentication_1_1views_1_1LoginView_a3864557eb04db7e1a75bee8e61f1f61e}} 
\index{Authentication.views.LoginView@{Authentication.views.LoginView}!post@{post}}
\index{post@{post}!Authentication.views.LoginView@{Authentication.views.LoginView}}
\doxysubsubsection{\texorpdfstring{post()}{post()}}
{\footnotesize\ttfamily def Authentication.\+views.\+Login\+View.\+post (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{request }\end{DoxyParamCaption})}



This is the function for handling the POST request. 


\begin{DoxyParams}{Parameters}
{\em self} & Default object parameter \\
\hline
{\em request} & Request object with post data fields -\/ \textquotesingle{}username\textquotesingle{},\textquotesingle{}password\textquotesingle{},\textquotesingle{}org\+\_\+pass\textquotesingle{}\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
JSON response with user\textquotesingle{}s username or error response in case of failure 
\end{DoxyReturn}


Definition at line 78 of file views.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{78     \textcolor{keyword}{def }post(self,request):}
\DoxyCodeLine{79         \textcolor{stringliteral}{"{}"{}"{}!}}
\DoxyCodeLine{80 \textcolor{stringliteral}{        @brief This is the function for handling the POST request}}
\DoxyCodeLine{81 \textcolor{stringliteral}{}}
\DoxyCodeLine{82 \textcolor{stringliteral}{        @param self Default object parameter}}
\DoxyCodeLine{83 \textcolor{stringliteral}{        @param request Request object with post data fields -\/ 'username','password','org\_pass'}}
\DoxyCodeLine{84 \textcolor{stringliteral}{}}
\DoxyCodeLine{85 \textcolor{stringliteral}{        @return JSON response with user's username or error response in case of failure}}
\DoxyCodeLine{86 \textcolor{stringliteral}{        "{}"{}"{}}}
\DoxyCodeLine{87         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} request.user.is\_authenticated:}
\DoxyCodeLine{88             print(request.data)}
\DoxyCodeLine{89             creds = LoginSerializer(data=request.data)}
\DoxyCodeLine{90             \textcolor{keywordflow}{if} creds.is\_valid():}
\DoxyCodeLine{91                 print(creds.data.get(\textcolor{stringliteral}{'username'}),creds.data.get(\textcolor{stringliteral}{'password'}))}
\DoxyCodeLine{92                 user = authenticate(username=creds.data.get(\textcolor{stringliteral}{'username'}), password=creds.data.get(\textcolor{stringliteral}{'password'}))}
\DoxyCodeLine{93                 print(user.org.org\_pass)}
\DoxyCodeLine{94                 \textcolor{keywordflow}{if} user \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None} \textcolor{keywordflow}{and} creds.data.get(\textcolor{stringliteral}{'org\_pass'}) == user.org.org\_pass:}
\DoxyCodeLine{95                     login(request,user)}
\DoxyCodeLine{96                     \textcolor{keywordflow}{return} Response(\{\textcolor{stringliteral}{"{}username"{}}:user.username\},status=status.HTTP\_202\_ACCEPTED)}
\DoxyCodeLine{97                 \textcolor{keywordflow}{else}:}
\DoxyCodeLine{98                     \textcolor{keywordflow}{return} Response(\{\textcolor{stringliteral}{"{}error"{}}:\textcolor{stringliteral}{"{}Wrong credentials"{}}\},status=status.HTTP\_400\_BAD\_REQUEST)}
\DoxyCodeLine{99             \textcolor{keywordflow}{else}:}
\DoxyCodeLine{100                 \textcolor{keywordflow}{return} Response(creds.errors,status=status.HTTP\_400\_BAD\_REQUEST)}
\DoxyCodeLine{101         \textcolor{keywordflow}{else}:}
\DoxyCodeLine{102             \textcolor{keywordflow}{return} Response(\{\textcolor{stringliteral}{"{}error"{}}:\textcolor{stringliteral}{"{}Already logged in"{}}\},status=status.HTTP\_400\_BAD\_REQUEST)}
\DoxyCodeLine{103 }

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/home/hp/\+Sem3/\+CS251/\+Red\+Plag/\+Project\+Repo/\+Backend/\+Authentication/\mbox{\hyperlink{Authentication_2views_8py}{views.\+py}}\end{DoxyCompactItemize}
