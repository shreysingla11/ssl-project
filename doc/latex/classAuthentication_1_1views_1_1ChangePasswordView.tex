\hypertarget{classAuthentication_1_1views_1_1ChangePasswordView}{}\doxysection{Authentication.\+views.\+Change\+Password\+View Class Reference}
\label{classAuthentication_1_1views_1_1ChangePasswordView}\index{Authentication.views.ChangePasswordView@{Authentication.views.ChangePasswordView}}


This is the class controlling the /auth/changepassword endpoint.  


Inheritance diagram for Authentication.\+views.\+Change\+Password\+View\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classAuthentication_1_1views_1_1ChangePasswordView}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{classAuthentication_1_1views_1_1ChangePasswordView_a24eee992009b8a4bc7d1c63a6310f789}{update}} (self, request)
\begin{DoxyCompactList}\small\item\em This is the function for handling the PUT request. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classAuthentication_1_1views_1_1ChangePasswordView_aa8348fe2e55f64496d0bcf3f57f1bf57}{serializer\+\_\+class}} = Change\+Password\+Serializer
\item 
\mbox{\hyperlink{classAuthentication_1_1views_1_1ChangePasswordView_a0c65f941ea0553384161f72688c0ee54}{model}} = My\+User
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This is the class controlling the /auth/changepassword endpoint. 

This viewset supports PUT request to change the current user\textquotesingle{}s password~\newline
 ~\newline
 PUT /auth/changepassword/ 

Definition at line 150 of file views.\+py.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classAuthentication_1_1views_1_1ChangePasswordView_a24eee992009b8a4bc7d1c63a6310f789}\label{classAuthentication_1_1views_1_1ChangePasswordView_a24eee992009b8a4bc7d1c63a6310f789}} 
\index{Authentication.views.ChangePasswordView@{Authentication.views.ChangePasswordView}!update@{update}}
\index{update@{update}!Authentication.views.ChangePasswordView@{Authentication.views.ChangePasswordView}}
\doxysubsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily def Authentication.\+views.\+Change\+Password\+View.\+update (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{request }\end{DoxyParamCaption})}



This is the function for handling the PUT request. 


\begin{DoxyParams}{Parameters}
{\em self} & Default object parameter \\
\hline
{\em request} & Request object with PUT JSON data with fields \textquotesingle{}old\+\_\+password\textquotesingle{},\textquotesingle{}new\+\_\+password\textquotesingle{}\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
JSON response on successful password change or error message in case of failure 
\end{DoxyReturn}


Definition at line 160 of file views.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{160         \textcolor{keyword}{def }update(self, request):}
\DoxyCodeLine{161             \textcolor{stringliteral}{"{}"{}"{}!}}
\DoxyCodeLine{162 \textcolor{stringliteral}{            @brief This is the function for handling the PUT request}}
\DoxyCodeLine{163 \textcolor{stringliteral}{}}
\DoxyCodeLine{164 \textcolor{stringliteral}{            @param self Default object parameter}}
\DoxyCodeLine{165 \textcolor{stringliteral}{            @param request Request object with PUT JSON data with fields 'old\_password','new\_password'}}
\DoxyCodeLine{166 \textcolor{stringliteral}{}}
\DoxyCodeLine{167 \textcolor{stringliteral}{            @return JSON response on successful password change or error message in case of failure}}
\DoxyCodeLine{168 \textcolor{stringliteral}{            "{}"{}"{}}}
\DoxyCodeLine{169             serializer = self.get\_serializer(data=request.data)}
\DoxyCodeLine{170 }
\DoxyCodeLine{171             \textcolor{keywordflow}{if} request.user.is\_authenticated:}
\DoxyCodeLine{172                 \textcolor{keywordflow}{if} serializer.is\_valid():}
\DoxyCodeLine{173                     \textcolor{comment}{\# Check old password}}
\DoxyCodeLine{174                     \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} request.user.check\_password(serializer.data.get(\textcolor{stringliteral}{"{}old\_password"{}})):}
\DoxyCodeLine{175                         \textcolor{keywordflow}{return} Response(\{\textcolor{stringliteral}{"{}error"{}}: \textcolor{stringliteral}{"{}Wrong old password."{}}\}, status=status.HTTP\_400\_BAD\_REQUEST)}
\DoxyCodeLine{176                     \textcolor{comment}{\# set\_password also hashes the password that the user will get}}
\DoxyCodeLine{177                     request.user.set\_password(serializer.data.get(\textcolor{stringliteral}{"{}new\_password"{}}))}
\DoxyCodeLine{178                     request.user.save()}
\DoxyCodeLine{179                     response = \{}
\DoxyCodeLine{180                         \textcolor{stringliteral}{'message'}: \textcolor{stringliteral}{'Password updated successfully'},}
\DoxyCodeLine{181                     \}}
\DoxyCodeLine{182 }
\DoxyCodeLine{183                     \textcolor{keywordflow}{return} Response(response)}
\DoxyCodeLine{184                     }
\DoxyCodeLine{185                 \textcolor{keywordflow}{return} Response(serializer.errors, status=status.HTTP\_400\_BAD\_REQUEST)}
\DoxyCodeLine{186             \textcolor{keywordflow}{else}:}
\DoxyCodeLine{187                 \textcolor{keywordflow}{return} Response(\{\textcolor{stringliteral}{"{}error"{}}:\textcolor{stringliteral}{"{}You are not logged in"{}}\}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classAuthentication_1_1views_1_1ChangePasswordView_a0c65f941ea0553384161f72688c0ee54}\label{classAuthentication_1_1views_1_1ChangePasswordView_a0c65f941ea0553384161f72688c0ee54}} 
\index{Authentication.views.ChangePasswordView@{Authentication.views.ChangePasswordView}!model@{model}}
\index{model@{model}!Authentication.views.ChangePasswordView@{Authentication.views.ChangePasswordView}}
\doxysubsubsection{\texorpdfstring{model}{model}}
{\footnotesize\ttfamily Authentication.\+views.\+Change\+Password\+View.\+model = My\+User\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 158 of file views.\+py.

\mbox{\Hypertarget{classAuthentication_1_1views_1_1ChangePasswordView_aa8348fe2e55f64496d0bcf3f57f1bf57}\label{classAuthentication_1_1views_1_1ChangePasswordView_aa8348fe2e55f64496d0bcf3f57f1bf57}} 
\index{Authentication.views.ChangePasswordView@{Authentication.views.ChangePasswordView}!serializer\_class@{serializer\_class}}
\index{serializer\_class@{serializer\_class}!Authentication.views.ChangePasswordView@{Authentication.views.ChangePasswordView}}
\doxysubsubsection{\texorpdfstring{serializer\_class}{serializer\_class}}
{\footnotesize\ttfamily Authentication.\+views.\+Change\+Password\+View.\+serializer\+\_\+class = Change\+Password\+Serializer\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 157 of file views.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/home/hp/\+Sem3/\+CS251/\+Red\+Plag/\+Project\+Repo/\+Backend/\+Authentication/\mbox{\hyperlink{Authentication_2views_8py}{views.\+py}}\end{DoxyCompactItemize}
